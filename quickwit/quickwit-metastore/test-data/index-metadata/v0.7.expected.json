{
  "version": "0.9",
  "index_uid": "my-index:00000000000000000000000000",
  "index_config": {
    "version": "0.9",
    "index_id": "my-index",
    "index_uri": "s3://quickwit-indexes/my-index",
    "doc_mapping": {
      "doc_mapping_uid": "00000000000000000000000000",
      "mode": "dynamic",
      "dynamic_mapping": {
        "indexed": true,
        "tokenizer": "raw",
        "record": "basic",
        "stored": true,
        "expand_dots": true,
        "fast": {
          "normalizer": "raw"
        }
      },
      "field_mappings": [
        {
          "name": "tenant_id",
          "type": "u64",
          "stored": true,
          "indexed": true,
          "fast": true,
          "coerce": true,
          "output_format": "number"
        },
        {
          "name": "timestamp",
          "type": "datetime",
          "input_formats": [
            "rfc3339",
            "unix_timestamp"
          ],
          "output_format": "rfc3339",
          "fast_precision": "seconds",
          "indexed": true,
          "stored": true,
          "fast": true
        },
        {
          "name": "log_level",
          "type": "text",
          "indexed": true,
          "tokenizer": "raw",
          "record": "basic",
          "fieldnorms": false,
          "stored": true,
          "fast": false
        },
        {
          "name": "message",
          "type": "text",
          "indexed": true,
          "tokenizer": "default",
          "record": "position",
          "fieldnorms": false,
          "stored": true,
          "fast": false
        }
      ],
      "timestamp_field": "timestamp",
      "tag_fields": [
        "log_level",
        "tenant_id"
      ],
      "partition_key": "tenant_id",
      "max_num_partitions": 100,
      "index_field_presence": true,
      "store_document_size": false,
      "store_source": true,
      "tokenizers": [
        {
          "name": "custom_tokenizer",
          "type": "regex",
          "pattern": "[^\\p{L}\\p{N}]+",
          "filters": []
        }
      ]
    },
    "indexing_settings": {
      "commit_timeout_secs": 301,
      "docstore_compression_level": 8,
      "docstore_blocksize": 1000000,
      "split_num_docs_target": 10000001,
      "merge_policy": {
        "type": "stable_log",
        "min_level_num_docs": 100000,
        "merge_factor": 9,
        "max_merge_factor": 11,
        "maturation_period": "2days"
      },
      "resources": {
        "heap_size": "50.0 MB"
      }
    },
    "ingest_settings": {
      "min_shards": 1
    },
    "search_settings": {
      "default_search_fields": [
        "message"
      ]
    },
    "retention": {
      "period": "90 days",
      "schedule": "daily"
    }
  },
  "checkpoint": {
    "kafka-source": {
      "00000000000000000000": "00000000000000000042"
    }
  },
  "create_timestamp": 1789,
  "sources": [
    {
      "version": "0.9",
      "source_id": "kafka-source",
      "num_pipelines": 2,
      "enabled": true,
      "source_type": "kafka",
      "params": {
        "topic": "kafka-topic",
        "client_params": {}
      },
      "transform": {
        "script": ".message = downcase(string!(.message))",
        "timezone": "UTC"
      },
      "input_format": "json"
    }
  ]
}
