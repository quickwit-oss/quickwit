# Basic regex match
params:
  size: 0
json:
  track_total_hits: true
  query:
    regexp:
      type:
        value: ".*event"
expected:
  hits:
    total:
      value: 100
      relation: "eq"
---
# Regex always match from start to end (`(re)` equivalent to `^(re)$`)
params:
  size: 3
json:
  track_total_hits: true
  query:
    regexp:
      type:
        value: "event"
expected:
  hits:
    total:
      value: 0
      relation: "eq"
---
# Regex with case_insensitive flag
params:
  size: 3
json:
  track_total_hits: true
  query:
    regexp:
      repo.name:
        # lowercased by the tokenizer
        value: "RUST.*"
        case_insensitive: true
expected:
  hits:
    total:
      value: 1
      relation: "eq"
---
params:
  size: 3
json:
  track_total_hits: true
  query:
    regexp:
      type:
        # lowercased by the tokenizer
        value: "RUST.*"
        case_insensitive: false
expected:
  hits:
    total:
      value: 0
      relation: "eq"
---
# leading ^ and trailing $ are ignored
params:
  size: 3
json:
  track_total_hits: true
  query:
    regexp:
      type:
        value: "pushevent"
expected:
  hits:
    total:
      value: 60
      relation: "eq"
---
# regex in query_string
params:
  size: 10
json:
  query:
    query_string:
      query: "type:/pushevent/"
expected:
  hits:
    total:
      value: 60
      relation: "eq"