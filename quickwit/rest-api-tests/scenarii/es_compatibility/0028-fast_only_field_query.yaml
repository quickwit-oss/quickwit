# Search for a term in a field that is not indexed but is a fast field
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    term:
      fast_text: "abc-123"
expected:
  hits:
    total:
      value: 1
      relation: "eq"
--- # term query with no matches
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    term:
      fast_text: "zzz"
expected:
  hits:
    total:
      value: 0
      relation: "eq"

--- # term set query with partial match
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    terms:
      fast_text:
        - "abc-123"
        - "zzz"
expected:
  hits:
    total:
      value: 1
      relation: "eq"

--- # term set query with multiple matches
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    terms:
      fast_text:
        - "abc-123"
        - "def-456"
expected:
  hits:
    total:
      value: 2
      relation: "eq"

--- # term query on nested JSON field
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    term:
      obj.nested_text: "abc-123"
expected:
  hits:
    total:
      value: 1
      relation: "eq"

--- # term query with no matches
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    term:
      obj.nested_text: "zzz"
expected:
  hits:
    total:
      value: 0
      relation: "eq"

--- # term set query
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    terms:
      obj.nested_text:
        - "abc-123"
        - "ghi-789"
expected:
  hits:
    total:
      value: 2
      relation: "eq"

--- # term set query with no matches
engines:
  - quickwit
endpoint: "fast_only/_search"
params:
  size: 0
json:
  query:
    terms:
      obj.nested_text:
        - "zzz"
expected:
  hits:
    total:
      value: 0
      relation: "eq"
