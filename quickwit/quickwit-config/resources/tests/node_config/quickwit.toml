version = "0.9"

cluster_id = "quickwit-cluster"
node_id = "my-unique-node-id"
enabled_services = [ "janitor", "metastore" ]
listen_address = "0.0.0.0"
advertise_address = "172.0.0.12"
gossip_listen_port = 2222
grpc_listen_port = 3333
peer_seeds = [ "quickwit-searcher-0.local", "quickwit-searcher-1.local" ]
data_dir = "/opt/quickwit/data"
metastore_uri = "postgres://username:password@host:port/db"
default_index_root_uri = "s3://quickwit-indexes"

[rest]
listen_port = 1111

[rest.extra_headers]
x-header-1 = "header-value-1"
x-header-2 = "header-value-2"

[grpc]
max_message_size = "10 MB"

[storage.azure]
account = "quickwit-dev"

[storage.s3]
flavor = "gcs"
endpoint = "http://localhost:4566"
force_path_style_access = true

[metastore.postgres]
min_connections = 1
max_num_connections = 12
acquire_connection_timeout = "30s"
idle_connection_timeout = "30min"
max_connection_lifetime = "1h"

[indexer]
enable_otlp_endpoint = true
split_store_max_num_bytes = "1T"
split_store_max_num_splits = 10_000
max_concurrent_split_uploads = 8
max_merge_write_throughput = "100mb"
merge_concurrency = 2

[ingest_api]
replication_factor = 2

[searcher]
aggregation_memory_limit = "1G"
aggregation_bucket_limit = 500_000
fast_field_cache_capacity = "10G"
split_footer_cache_capacity = "1G"
max_num_concurrent_split_streams = 120
max_num_concurrent_split_searches = 150

[searcher.storage_timeout_policy]
min_throughtput_bytes_per_secs = 100000
timeout_millis = 2000
max_num_retries = 2

[jaeger]
enable_endpoint = true
lookback_period_hours = 24
max_trace_duration_secs = 600
max_fetch_spans = 1_000
